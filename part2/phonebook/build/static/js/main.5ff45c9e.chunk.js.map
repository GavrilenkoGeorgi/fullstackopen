{"version":3,"sources":["components/Filter.js","components/Person.js","components/Persons.js","components/PersonFrom.js","components/Notification.js","services/phonebook.js","App.js","index.js"],"names":["Filter","onChange","Person","name","number","onClick","type","Persons","persons","PersonForm","onSubmit","value","Notification","message","className","baseUrl","personObject","axios","post","then","response","data","get","id","delete","newObject","put","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","newFilter","setNewFilter","notification","setNotificationMessage","notificationType","setNotificationType","useEffect","phonebookService","initialPersons","filteredPersons","filter","person","toLowerCase","startsWith","event","target","preventDefault","some","window","confirm","existingPerson","find","updatedPerson","returnedPerson","map","setTimeout","catch","error","concat","key","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.5ff45c9e.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ onChange }) =>\r\n  <div>\r\n    filter shown with: <input onChange={onChange} />\r\n  </div>\r\n\r\nexport default Filter\r\n","import React from 'react'\r\n\r\nconst Person = ({ name, number, onClick }) => {\r\n  return (\r\n    <li>\r\n    {name} {number}\r\n    <button\r\n      type=\"button\"\r\n      onClick={onClick}\r\n    >\r\n      Delete\r\n    </button>\r\n  </li>\r\n  )\r\n}\r\n\r\nexport default Person\r\n","import React from 'react'\r\n\r\nconst Persons = ({ persons }) => <ul>{persons}</ul>\r\n\r\nexport default Persons\r\n","import React from 'react'\r\n\r\nconst PersonForm = ({onSubmit, name, number}) =>\r\n  <form onSubmit={onSubmit}>\r\n    <div>\r\n      name: <input onChange={name.onChange} value={name.value} />\r\n    </div>\r\n    <div>\r\n      number: <input onChange={number.onChange} value={number.value} />\r\n    </div>\r\n    <div>\r\n      <button type=\"submit\">add</button>\r\n    </div>\r\n  </form>\r\n\r\nexport default PersonForm\r\n","import React from 'react'\r\n\r\nconst Notification = ({ message, type }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className={type}>\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification\r\n","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst add = personObject => {\r\n  const request = axios.post(baseUrl, personObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = id => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nexport default { add, getAll, deletePerson, update }\r\n","import React, { useState, useEffect } from 'react'\r\nimport './index.css'\r\nimport Filter from './components/Filter'\r\nimport Person from './components/Person'\r\nimport Persons from './components/Persons'\r\nimport PersonForm from './components/PersonFrom'\r\nimport Notification from './components/Notification'\r\nimport phonebookService from './services/phonebook'\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons] = useState([])\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ newFilter, setNewFilter ] = useState('')\r\n  const [notification, setNotificationMessage] = useState('')\r\n  const [notificationType, setNotificationType] = useState('')\r\n\r\n  useEffect(() => {\r\n    phonebookService\r\n      .getAll()\r\n      .then(initialPersons => setPersons(initialPersons))\r\n  }, [])\r\n\r\n  const handleNameChange = event => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = event => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleFilteredSearch = event => {\r\n    setNewFilter(event.target.value.toLowerCase())\r\n  }\r\n\r\n  const filteredPersons = newFilter === ''\r\n    ? persons\r\n    : persons.filter(person => person.name.toLowerCase().startsWith(newFilter))\r\n\r\n  const addPerson = event => {\r\n    event.preventDefault()\r\n    const checkUsername = person => person.name === newName\r\n    if (persons.some(checkUsername)) {\r\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with the new one?`)) {\r\n        const existingPerson = persons.find(person => person.name === newName)\r\n        const updatedPerson = {...existingPerson, number: newNumber}\r\n        phonebookService\r\n          .update(existingPerson.id, updatedPerson)\r\n          .then(returnedPerson => {\r\n            setPersons(persons.map(person => person.id !== existingPerson.id ? person : returnedPerson))\r\n            setNotificationMessage(\r\n              `User '${existingPerson.name}' was updated.`\r\n            )\r\n            setNotificationType('info')\r\n            setTimeout(() => {\r\n              setNotificationMessage(null)\r\n            }, 5000)\r\n            setNewName('')\r\n            setNewNumber('')\r\n          })\r\n          .catch(error => {\r\n            setNotificationMessage(error.response.data.error)\r\n            setNotificationType('error')\r\n            setTimeout(() => {\r\n              setNotificationMessage(null)\r\n            }, 5000)\r\n          })\r\n      }\r\n    } else {\r\n      const personObject = {\r\n        name: newName,\r\n        number: newNumber\r\n      }\r\n      phonebookService\r\n        .add(personObject)\r\n        .then(data => {\r\n          setPersons(persons.concat(data))\r\n          setNotificationMessage(\r\n            `User '${personObject.name}' was added.`\r\n          )\r\n          setNotificationType('info')\r\n          setTimeout(() => {\r\n            setNotificationMessage(null)\r\n          }, 5000)\r\n          setNewName('')\r\n          setNewNumber('')\r\n        })\r\n        .catch(error => {\r\n          setNotificationMessage(error.response.data.error)\r\n          setNotificationType('error')\r\n          setTimeout(() => {\r\n            setNotificationMessage(null)\r\n          }, 5000)\r\n        })\r\n    }\r\n  }\r\n\r\n  const deletePerson = (id) => {\r\n    if (window.confirm(`Do you really want to delete user with id of: ${id}?`)) {\r\n      phonebookService\r\n        .deletePerson(id)\r\n        .then(response => {\r\n          setPersons(persons.filter(person => person.id !== id))\r\n          setNotificationMessage(\r\n            `The person with '${id}' was succesfully deleted from the server.`\r\n          )\r\n          setNotificationType('info')\r\n          setTimeout(() => {\r\n            setNotificationMessage(null)\r\n          }, 5000)\r\n        })\r\n        .catch(error => {\r\n          setNotificationMessage(\r\n            `The person with '${id}' was already deleted from the server.`\r\n          )\r\n          setNotificationType('error')\r\n          setTimeout(() => {\r\n            setNotificationMessage(null)\r\n          }, 5000)\r\n        })\r\n    }\r\n  }\r\n\r\n  const personsList = () => filteredPersons.map(person =>\r\n    <Person\r\n      key={person.id}\r\n      name={person.name}\r\n      number={person.number}\r\n      onClick={() => deletePerson(person.id)}\r\n    />\r\n  )\r\n\r\n  return (\r\n    <>\r\n      <Notification message={notification} type={notificationType}/>\r\n      <h1>phonebook</h1>\r\n      <Filter value={newFilter} onChange={handleFilteredSearch}/>\r\n      <h2>add a new</h2>\r\n      <PersonForm\r\n        onSubmit={addPerson}\r\n        name={{value: newName, onChange: handleNameChange}}\r\n        number={{value: newNumber, onChange: handleNumberChange}}\r\n      />\r\n      <h2>numbers</h2>\r\n      <Persons persons={personsList()} />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\n\r\n/*\r\nconst notes = [\r\n  {\r\n    id: 1,\r\n    content: 'HTML is easy',\r\n    date: '2019-05-30T17:30:31.098Z',\r\n    important: true\r\n  },\r\n  {\r\n    id: 2,\r\n    content: 'Browser can execute only Javascript',\r\n    date: '2019-05-30T18:39:34.091Z',\r\n    important: false\r\n  },\r\n  {\r\n    id: 3,\r\n    content: 'GET and POST are the most important methods of HTTP protocol',\r\n    date: '2019-05-30T19:20:14.298Z',\r\n    important: true\r\n  }\r\n]*/\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}